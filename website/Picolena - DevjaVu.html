<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><title>Picolena - DevjaVu</title>


 <link rel="start" href="http://picolena.devjavu.com/wiki"><link rel="search" href="http://picolena.devjavu.com/search"><link rel="help" href="http://picolena.devjavu.com/wiki/TracGuide"><link rel="stylesheet" href="Picolena%20-%20DevjaVu_files/trac.css" type="text/css"><link rel="stylesheet" href="Picolena%20-%20DevjaVu_files/ads.css" type="text/css"><link rel="stylesheet" href="Picolena%20-%20DevjaVu_files/redirect.css" type="text/css"><link rel="stylesheet" href="Picolena%20-%20DevjaVu_files/wiki.css" type="text/css"><link rel="icon" href="http://devjavu.com/favicon.ico" type="image/x-icon"><link rel="shortcut icon" href="http://devjavu.com/favicon.ico" type="image/x-icon"><link rel="alternate" href="http://picolena.devjavu.com/wiki/WikiStart?format=txt" title="Plain Text" type="text/x-trac-wiki"><style type="text/css">
</style>
 <script type="text/javascript" src="Picolena%20-%20DevjaVu_files/trac.js"></script></head><body>


<div id="banner">	



<div id="metanav" class="nav"><ul><li class="first">logged in as eric.duminil@gmail.com</li><li class="last"><a href="http://picolena.devjavu.com/logout">Logout</a></li></ul></div>

<div id="header"><a id="logo" href="http://picolena.devjavu.com/"><img src="Picolena%20-%20DevjaVu_files/devjavu_banner.png" alt="DevjaVu" height="73" width="231"></a><div id="title"><h1>Picolena</h1><br><span>a lightweight but powerful documents search engine</span></div><hr></div>

<form id="search" action="/search" method="get">
 <div>
  <label for="proj-search">Search:</label>
  <input id="proj-search" name="q" size="10" accesskey="f" value="" type="text">
  <input value="Search" type="submit">
  <input name="wiki" value="on" type="hidden">
  <input name="changeset" value="on" type="hidden">
  <input name="ticket" value="on" type="hidden">
 </div>
</form>

</div>

<div id="mainnav" class="nav"><ul><li class="active first"><a accesskey="1" href="http://picolena.devjavu.com/wiki">Wiki</a></li><li><a accesskey="2" href="http://picolena.devjavu.com/timeline">Timeline</a></li><li><a accesskey="3" href="http://picolena.devjavu.com/roadmap">Roadmap</a></li><li><a href="http://picolena.devjavu.com/browser">Browse Source</a></li><li><a href="http://picolena.devjavu.com/report/">View Tickets</a></li><li><a accesskey="7" href="http://picolena.devjavu.com/newticket">New Ticket</a></li><li><a accesskey="4" href="http://picolena.devjavu.com/search">Search</a></li><li class="last"><a href="http://picolena.devjavu.com/admin">Admin</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Wiki Navigation</h2>
 <ul>
   <li><a href="http://picolena.devjavu.com/wiki">Start Page</a></li>
   <li><a href="http://picolena.devjavu.com/wiki/TitleIndex">Index by Title</a></li>
   <li><a href="http://picolena.devjavu.com/wiki/RecentChanges">Index by Date</a></li>
   <li class="last"><a href="http://picolena.devjavu.com/wiki/WikiStart?action=diff&amp;version=35">Last Change</a></li>
 </ul>
 <hr>
</div>

<div id="content" class="wiki">

 
  
  
   
   <div class="wikipage">
    <div id="searchable"><h1 id="WelcometoPicolena">Welcome to Picolena!<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#WelcometoPicolena"> ¶</a></h1>
<h2 id="Description">Description<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Description"> ¶</a></h2>
<p>
<i>Picolena</i> is a lightweight <a class="ext-link" href="http://ferret.davebalmain.com/trac"><span class="icon">ferret-powered</span></a> documents search engine written in <a class="ext-link" href="http://www.rubyonrails.org/"><span class="icon">Ruby on rails</span></a>:
</p>
<ol><li>Just let Ferret index any directory you want.
</li><li>Enter queries on your browser to get corresponding documents in a few milliseconds.
</li></ol><h2 id="Examples">Examples<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Examples"> ¶</a></h2>
<ul><li><a class="ext-link" href="http://193.197.204.23:4000/documents/test"><span class="icon">Basic query</span></a>
</li><li><a class="ext-link" href="http://193.197.204.23:4000/documents/filetype:doc"><span class="icon">every indexed .doc</span></a>
</li><li><a class="ext-link" href="http://193.197.204.23:4000/documents/*"><span class="icon">every indexed file</span></a>
</li><li><a class="ext-link" href="http://193.197.204.23:4000/documents/LIKE%20Einstien"><span class="icon">Fuzzy query</span></a>
</li><li><a class="ext-link" href="http://193.197.204.23:4000/documents/LIKE%20Einstein%20NOT%20Einstein"><span class="icon">Typo tracker :)</span></a>
</li><li><a class="ext-link" href="http://193.197.204.23:4000/documents/m%C3%A1laga"><span class="icon">Accented queries thanks to UTF8 encoding</span></a>
</li><li><a class="ext-link" href="http://193.197.204.23:4000/documents/p%CA%B0%C9%99%CB%88%C9%B9%C9%AAz%C9%AA%C9%99nz"><span class="icon">some hardcore UTF-8 query!</span></a>
</li></ul><h2 id="Advantages">Advantages<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Advantages"> ¶</a></h2>
<p>
<i>Picolena</i> has many advantages:
</p>
<ul><li>it can index .pdf, .doc, .docx, .odt, .xls, .ods, .ppt, .pptx, .odp, .rtf, .html and plain text files will <strong>full text search</strong>, and offers a very easy way to <a href="http://picolena.devjavu.com/browser/trunk/lib/filters">add new filters</a> to index other filetype.
</li><li>it is <strong>free</strong> as in <i>free beer</i> and as in <i>free speech</i>
</li><li>thanks to <a class="ext-link" href="http://ferret.davebalmain.com/trac"><span class="icon">Ferret</span></a>, it is <strong>very fast</strong>
</li><li>it keeps your data <strong>private</strong>. By default, only
the computer on which it is installed can get access to the search
engine. Other IP addresses can then be added to a white list.
</li><li>it does not phone home. This claim is somewhat easier to verify on <strong>your server</strong>, with just a few lines of codes added, than on a <i>Don't be evil</i> <a class="ext-link" href="http://www.google.co.uk/enterprise/"><span class="icon">black-box server</span></a>.
</li><li>it can be used to index any ftp, smb, ssh, webdav or local directory.
</li><li>its user interface is available in <a href="http://picolena.devjavu.com/browser/trunk/lang/ui">English, German, Spanish and French.</a>
</li></ul><h2 id="License">License<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#License"> ¶</a></h2>
<p>
<i>Picolena</i>, <i>Ferret</i> and <i>Ruby on Rails</i> are all released under the <a class="ext-link" href="http://www.opensource.org/licenses/mit-license.php"><span class="icon">MIT license</span></a>.
</p>
<h2 id="Authors">Authors<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Authors"> ¶</a></h2>
<p>
<i>Picolena</i> has been created by Eric Duminil, following the idea of <a class="ext-link" href="http://www.methods.co.nz/ff/"><span class="icon">Ferret Finder utility</span></a> by Stuart Rackham.
</p>
<p>
It would be totally useless without:
</p>
<ul><li>Ferret, by Dave Balmain
</li><li>Ruby on Rails, by David Heinemeier Hansson
</li><li>the open source community that supports those projects.
</li></ul><h1 id="Installationprocess">Installation process<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Installationprocess"> ¶</a></h1>
<p>
<i>Picolena</i> has been tested on <a class="ext-link" href="http://www.ubuntu.com/"><span class="icon">Ubuntu</span></a> 7.04 and 7.10, for both Desktop and Server editions.
</p>
<p>
To install <i>Picolena</i>, you first need <a class="ext-link" href="http://www.rubyonrails.org/"><span class="icon">Ruby on rails</span></a> and  <a class="ext-link" href="http://www.rubygems.org/"><span class="icon">RubyGems</span></a>
</p>
<h2 id="Gettingfiles">Getting files<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Gettingfiles"> ¶</a></h2>
<pre class="wiki">svn checkout http://svn.devjavu.com/picolena/trunk Picolena
cd Picolena
</pre><h2 id="Installingdependencies">Installing dependencies<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Installingdependencies"> ¶</a></h2>
<h3 id="OnUbuntu">On Ubuntu<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#OnUbuntu"> ¶</a></h3>
<p>
Install required packages and gems:
</p>
<pre class="wiki">sudo rake install_dependencies:on_ubuntu
</pre><h3 id="OnDebian">On Debian<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#OnDebian"> ¶</a></h3>
<p>
Install required packages and gems:
</p>
<pre class="wiki">sudo rake install_dependencies:on_debian
</pre><h3 id="OnMacOS">On Mac OS<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#OnMacOS"> ¶</a></h3>
<p>
Yet to be implemented and tested!
</p>
<h3 id="OnWindows">On Windows<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#OnWindows"> ¶</a></h3>
<p>
Yet to be implemented and tested!
</p>
<h2 id="Checkingeverythingisinorder">Checking everything is in order<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Checkingeverythingisinorder"> ¶</a></h2>
<p>
Copy configuration files from templates and launch rspec:
</p>
<pre class="wiki">rake index:prepare_config
rake spec
</pre><p>
Hopefully, every spec will pass and we'll be ready for the next step
</p>
<h2 id="Somemoreconfiguration">Some more configuration<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#Somemoreconfiguration"> ¶</a></h2>
<p>
You can now edit <i>config/indexed_directories.yml</i> to add new directories to be indexed, both for development and production mode.
</p>
<pre class="wiki">development:
  #"first directory that should be indexed": "alias path that will be used to display 'containing directory' link"
  #"second directory that should be indexed": "alias path that will be used to display 'containing directory' link"
  #....
  #alias path could be a smb, http or ftp directory.
  "spec/test_dirs/indexed": "http://picolena.devjavu.com/browser/trunk/spec/test_dirs/indexed"
test:
  "spec/test_dirs/indexed": "http://picolena.devjavu.com/browser/trunk/spec/test_dirs/indexed"
production:
  #up to you!
</pre><p>
The best way to index ftp, ssh, smb or webdav directories are to mount them to <i>/media/whatever</i>, and then index <i>/media/whatever</i>.
</p>
<p>
Finally, you can add IP addresses to <i>config/white_list_ip.yml</i>:
</p>
<pre class="wiki"># Only localhost is allowed by default, any request coming from another IP will get rejected.
# You can either add an IP address to the list:
#       - 192.168.0.37
# or an IP address range:
#       - 192.168.0.
# that will match any IP address whose first octets are 192.168.0
# If you want to allow everybody, just write:
#       Allow:
#         - all
Allow:
  - 127.0.0.1
  - 0.0.0.0
</pre><h2 id="AlmostthereCreatingindex">Almost there! Creating index<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#AlmostthereCreatingindex"> ¶</a></h2>
<pre class="wiki">rake index:create
</pre><p>
or
</p>
<pre class="wiki">rake index:create RAILS_ENV=production
</pre><p>Depending on the amount of indexed data, it can take anywhere
between a few seconds and some hours.
For example, 15000 documents (out of which 50% are converted to plain
text) have been indexed in 30 minutes on an Ubuntu server VM running on
an old Windows server.
</p>
<h2 id="DoneLaunchingPicolena">Done! Launching Picolena<a title="Link to this section" class="anchor" href="http://picolena.devjavu.com/#DoneLaunchingPicolena"> ¶</a></h2>
<pre class="wiki">ruby script/server
</pre><p>
Time to open your browser and <a class="ext-link" href="http://localhost:3000/"><span class="icon">enjoy</span></a>!
</p>
</div>
   </div>
   
  
   <div class="buttons">
     <form method="get" action="/wiki/WikiStart"><div>
      <input name="action" value="edit" type="hidden">
      <input value="Edit this page" accesskey="e" type="submit">
     </div></form>
      <form method="get" action="/attachment/wiki/WikiStart"><div>
       <input name="action" value="new" type="hidden">
       <input value="Attach file" type="submit">
      </div></form>
     <form method="get" action="/wiki/WikiStart"><div id="delete">
      <input name="action" value="delete" type="hidden">
      <input name="version" value="35" type="hidden">
       <input name="delete_version" value="Delete this version" type="submit">
      <input value="Delete page" type="submit">
     </div></form>
    
   </div>
  
  <script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"), "Link to this section");
  </script>
 
 
</div>

<script type="text/javascript">searchHighlight()</script>
<div id="altlinks"><h3>Download in other formats:</h3><ul><li class="first last"><a href="http://picolena.devjavu.com/wiki/WikiStart?format=txt">Plain Text</a></li></ul></div>

</div>

<div id="footer">
 <hr>
 <a id="tracpowered" href="http://trac.edgewall.org/"><img src="Picolena%20-%20DevjaVu_files/trac_logo_mini.png" alt="Trac Powered" height="30" width="107"></a>
 <p class="left">
   Powered by <a href="http://picolena.devjavu.com/about"><strong>Trac 0.10.4</strong></a><br>
   Hosted by <a href="http://devjavu.com/"><strong>DevjaVu</strong></a>
 </p>
 <p class="right">
  Host your own project for free at<br><a href="http://devjavu.com/">http://devjavu.com/</a>
 </p>
</div>



<div id="ads">
        <!--- Start of Google Ad Code -->
        <script type="text/javascript"><!--
        google_ad_client = "pub-9275256001977203";
        //DevjaVu Free Accounts
        google_ad_slot = "2389832561";
        google_ad_width = 120;
        google_ad_height = 600;
        //--></script>
        <script type="text/javascript" src="Picolena%20-%20DevjaVu_files/show_ads.js">
        </script><iframe name="google_ads_frame" src="Picolena%20-%20DevjaVu_files/ads.html" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" frameborder="0" height="600" scrolling="no" width="120"></iframe>
        <!--- End of Google Ad Code -->
</div>
 <script src="Picolena%20-%20DevjaVu_files/urchin.js" type="text/javascript"> 
 </script> 
 <script type="text/javascript"> 
 _uacct = "UA-101694-4"; 
 urchinTracker(); 
 </script>
 </body></html>